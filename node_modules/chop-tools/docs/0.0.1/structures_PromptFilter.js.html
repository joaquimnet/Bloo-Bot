

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Source: structures/PromptFilter.js | Chop Tools</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/bootstrap.min.css">
    <link type="text/css" rel="stylesheet" href="styles/prettify-jsdoc.css">
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/tui-doc.css">

    
</head>
<body>
<nav class="lnb" id="lnb">
    <div class="logo" style="width: 32px; height: 32px">
        
            <a href="https://github.com/joaquimnet/chop-tools" rel="noopener noreferrer" target="_blank">
                <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABsklEQVRYhb2Xr5LCMBDGv9xgiUbEMoOvQlLPc3QqeJoTN3kOfJGn6pnBVqDDAwTRa5uG/NkUcp8CkuH7ZXe76TJY0lpr+7dPijHGzO8r27zen3L6Q2utTYiVuVDvTzhuRFaAen+aQTCXeVHxLOatVACA873Dz+83GGNsZW8qKg7edFkAikqMEINeAFy63JZF5LBV0T0kAKAPW4qotUQC6E8icL53aB7X4N5yvcNxI0inJwOYEAC8EKnmAPDlW7jcOC43DlVOoTxsFY4bgXK9I5mrUoz/kwwA9HlvpYpC+MxbqaK1E03B+d4BUqCoxPh4mukAsNicBDDmOwDhM28eV2e6kgDiEJNsc4qCNWBDuGriHXMg4TEcIAAAUuCwna8tMQcSIpBLSQDD4+a6LYuKe3vERwBMc9dtyZtuEQQJwGdud7klENEiDJlPjWZqRD2EAOSHbsOQ+bzi3RBvtWKq+fQ5PRJegLHLNVO3c588DGH3CzKArZB5CCIm8jvhkEtKdfd7aRDkCOSaFxLeCfPoBaCVqq/eDLJnAuBvMgL+bzQzp6IZgAmRU6b5C8AAkRPAHs+fhFQrccapM5EAAAAASUVORK5CYII=" width="100%" height="100%">
            </a>
        
    </div>
    <div class="title">
        <h1><a href="index.html" class="link">Chop Tools</a></h1>
        
            <span class="version">v0.0.1</span>
        
    </div>
    <div class="search-container" id="search-container">
        <input type="text" placeholder="Search">
        <ul></ul>
    </div>
    
        <ol class="lnb-tab">
            <li id="api-tab">
                <a href="#"><h4>API</h4></a>
            </li>
            <li id="examples-tab">
                <a href="#"><h4>Examples</h4></a>
            </li>
        </ol>
    
    <div class="lnb-examples hidden"><h3>Examples</h3><ul><li><a href="tutorial-01 - Getting Started.html">01 - Getting Started</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="01 - Getting Started_sub"></div></li><li><a href="tutorial-02 - Commands.html">02 - Commands</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="02 - Commands_sub"></div></li><li><a href="tutorial-03 - Commands Pt.2.html">03 - Commands Pt.2</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="03 - Commands Pt.2_sub"></div></li><li><a href="tutorial-04 - Tasks.html">04 - Tasks</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="04 - Tasks_sub"></div></li><li><a href="tutorial-05 - Configuration.html">05 - Configuration</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="05 - Configuration_sub"></div></li></ul></div><div class="lnb-api hidden"><h3>Externals</h3><ul><li><a href="external-Client.html">Client</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="external:Client_sub"></div></li><li><a href="external-ClientOptions.html">ClientOptions</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="external:ClientOptions_sub"></div></li><li><a href="external-EmojiIdentifierResolvable.html">EmojiIdentifierResolvable</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="external:EmojiIdentifierResolvable_sub"></div></li><li><a href="external-Message.html">Message</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="external:Message_sub"></div></li></ul></div><div class="lnb-api hidden"><h3>Classes</h3><ul><li><a href="ChopClient.html">ChopClient</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="ChopClient_sub"><div class="member-type">Members</div><ul class="inner"><li><a href="ChopClient.html#commands">commands</a></li><li><a href="ChopClient.html#schedule">schedule</a></li></ul></div></li><li><a href="Command.html">Command</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="Command_sub"></div></li><li><a href="CommandCall.html">CommandCall</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="CommandCall_sub"><div class="member-type">Methods</div><ul class="inner"><li><a href="CommandCall.html#parseAndSave">parseAndSave</a></li></ul></div></li><li><a href="CommandError.html">CommandError</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="CommandError_sub"><div class="member-type">Members</div><ul class="inner"><li><a href="CommandError.html#call">call</a></li><li><a href="CommandError.html#error">error</a></li></ul></div></li><li><a href="CommandRunner.html">CommandRunner</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="CommandRunner_sub"><div class="member-type">Members</div><ul class="inner"><li><a href="CommandRunner.html#cooldowns">cooldowns</a></li></ul><div class="member-type">Methods</div><ul class="inner"><li><a href="CommandRunner.html#emitError">emitError</a></li><li><a href="CommandRunner.html#listen">listen</a></li><li><a href="CommandRunner.html#run">run</a></li><li><a href="CommandRunner.html#sendMessage">sendMessage</a></li></ul></div></li><li><a href="CommandStore.html">CommandStore</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="CommandStore_sub"></div></li><li><a href="Configuration.html">Configuration</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="Configuration_sub"><div class="member-type">Methods</div><ul class="inner"><li><a href="Configuration.html#.getChopJsConfig">getChopJsConfig</a></li><li><a href="Configuration.html#.getChopJsonConfig">getChopJsonConfig</a></li><li><a href="Configuration.html#.getConfig">getConfig</a></li><li><a href="Configuration.html#.getPackageJsonConfig">getPackageJsonConfig</a></li><li><a href="Configuration.html#.hasChopJsConfig">hasChopJsConfig</a></li><li><a href="Configuration.html#.hasChopJsonConfig">hasChopJsonConfig</a></li><li><a href="Configuration.html#.hasConfigs">hasConfigs</a></li><li><a href="Configuration.html#.hasPackageJsonConfig">hasPackageJsonConfig</a></li></ul></div></li><li><a href="CooldownManager.html">CooldownManager</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="CooldownManager_sub"></div></li><li><a href="FileLoader.html">FileLoader</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="FileLoader_sub"><div class="member-type">Members</div><ul class="inner"><li><a href="FileLoader.html#client">client</a></li><li><a href="FileLoader.html#root">root</a></li></ul></div></li><li><a href="Prompt.html">Prompt</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="Prompt_sub"></div></li><li><a href="PromptFilter.html">PromptFilter</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="PromptFilter_sub"><div class="member-type">Methods</div><ul class="inner"><li><a href="PromptFilter.html#bot">bot</a></li><li><a href="PromptFilter.html#emoji">emoji</a></li><li><a href="PromptFilter.html#message">message</a></li><li><a href="PromptFilter.html#prefix">prefix</a></li><li><a href="PromptFilter.html#reaction">reaction</a></li><li><a href="PromptFilter.html#userId">userId</a></li></ul></div></li><li><a href="Schedule.html">Schedule</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="Schedule_sub"></div></li><li><a href="Task.html">Task</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="Task_sub"></div></li><li><a href="TaskStore.html">TaskStore</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="TaskStore_sub"></div></li></ul></div><div class="lnb-api hidden"><h3>Global</h3><ul><li class="hidden"><a href="global.html#ChopOptions">ChopOptions</a></li><li class="hidden"><a href="global.html#CommandExecutor">CommandExecutor</a></li><li class="hidden"><a href="global.html#ConfigPresence">ConfigPresence</a></li><li><a href="global.html#use">use</a></li></ul></div>
</nav>
<div id="resizer"></div>

<div class="main" id="main">
    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/**
 * The discord.js EmojiIdentifierResolvable class.
 * @external EmojiIdentifierResolvable
 * @see {@link https://discord.js.org/#/docs/main/master/typedef/EmojiIdentifierResolvable|EmojiIdentifierResolvable}
 */

/**
 * Used to generate filters for prompts.
 * @namespace
 */
class PromptFilter {
  constructor() {
    this.allowBot = false;
    this.message = true;
    this.reaction = false;
    this.prefix = '';
    this.userId = '';
    this.emoji = [];
  }

  /**
   * Wether or not to allow bots to respond to this prompt
   * @param {Boolean} n
   * @memberof PromptFilter
   */
  bot(n) {
    this.allowBot = n;
    return this;
  }

  /**
   * Set this to true if this is a message prompt. False if its a reaction prompt.
   * @param {Boolean} n
   * @memberof PromptFilter
   */
  message(n) {
    this.message = n;
    this.reaction = !n;
    return this;
  }

  /**
   * Set this to true if this is a reaction prompt. False if its a message prompt.
   * @param {Boolean} n
   * @memberof PromptFilter
   */
  reaction(n) {
    this.reaction = n;
    this.message = !n;
    return this;
  }

  /**
   * If this is set, a message filter will only accept messages starting with this prefix.
   * @param {String} prefixToAccept
   * @memberof PromptFilter
   */
  prefix(prefixToAccept) {
    this.prefix = prefixToAccept;
    return this;
  }

  /**
   * If this is set, the filter will only accept responses from this user.
   * @param {String} id
   * @memberof PromptFilter
   */
  userId(id) {
    if (typeof id === 'string') {
      this.userId = id;
    } else if (id.id) {
      this.userId = id.id;
    }
    return this;
  }

  /**
   * If the prompt is emoji based, pass the emojis with this method.
   * @param {external:EmojiIdentifierResolvable} theEmojis
   * @memberof PromptFilter
   */
  emoji(theEmojis) {
    if (theEmojis instanceof Array) {
      this.emoji = [...theEmojis];
    } else {
      this.emoji = [theEmojis];
    }
    return this;
  }
}

module.exports = PromptFilter;

// import Discord from 'discord.js';

// /**
//  * @returns A filter to be used in the discordjs's awaitMessage method
//  */
// export const _getFilter = (
//   filterType: string,
//   options: {
//     confirm?: string | Discord.ReactionEmoji | Discord.Emoji;
//     cancel?: string | Discord.ReactionEmoji | Discord.Emoji;
//     userId?: string;
//     prefix?: string;
//     choices?: Array&lt;string | Discord.ReactionEmoji | Discord.Emoji>;
//   },
// ) => {
//   if (!filterType) throw new Error('Missing filter type');
//   if (!options) throw new Error('Missing filter options');

//   if (filterType === 'message') {
//     return function filter(m: Discord.Message) {
//       const { prefix, userId } = options;
//       // If prefix/userId is defined compare the prefix/id
//       const rightPrefix = !prefix || m.content.startsWith(prefix);
//       const rightAuthor = !userId || m.author.id === userId;
//       return rightPrefix &amp;&amp; rightAuthor;
//     };
//   }

//   if (filterType === 'reaction') {
//     if (!options.confirm || !options.cancel) throw new Error('Missing emoji');
//     return function filter(
//       reaction: Discord.MessageReaction,
//       user: Discord.User,
//     ) {
//       const { confirm, cancel, userId } = options;
//       // check if reaction if either confirm or cancel
//       const correctEmoji = [confirm, cancel].includes(reaction.emoji.name);
//       // If options.userId is defined campare the ids
//       const correctUser = (!userId || user.id === userId) &amp;&amp; !user.bot;
//       return correctEmoji &amp;&amp; correctUser;
//     };
//   }

//   if (filterType === 'vote') {
//     if (options.choices) {
//       const choices = options.choices;
//       return function filter(reaction: Discord.MessageReaction) {
//         return (
//           choices.includes(reaction.emoji.name) ||
//           choices.includes(reaction.emoji)
//         );
//       };
//     } else {
//       throw new Error('Choice filter requires options.choices');
//     }
//   }

//   if (filterType === 'choice') {
//     if (options.choices) {
//       const { choices, userId } = options;
//       return function filter(
//         reaction: Discord.MessageReaction,
//         user: Discord.User,
//       ) {
//         const correctUser = (!userId || user.id === userId) &amp;&amp; !user.bot;
//         return (
//           correctUser &amp;&amp;
//           (choices.includes(reaction.emoji.name) ||
//             choices.includes(reaction.emoji))
//         );
//       };
//     } else {
//       throw new Error('Vote filter requires options.choices');
//     }
//   }

//   throw new Error('Unknown filter');
// };
</code></pre>
        </article>
    </section>




</div>

<footer>
    <img class="logo" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABsklEQVRYhb2Xr5LCMBDGv9xgiUbEMoOvQlLPc3QqeJoTN3kOfJGn6pnBVqDDAwTRa5uG/NkUcp8CkuH7ZXe76TJY0lpr+7dPijHGzO8r27zen3L6Q2utTYiVuVDvTzhuRFaAen+aQTCXeVHxLOatVACA873Dz+83GGNsZW8qKg7edFkAikqMEINeAFy63JZF5LBV0T0kAKAPW4qotUQC6E8icL53aB7X4N5yvcNxI0inJwOYEAC8EKnmAPDlW7jcOC43DlVOoTxsFY4bgXK9I5mrUoz/kwwA9HlvpYpC+MxbqaK1E03B+d4BUqCoxPh4mukAsNicBDDmOwDhM28eV2e6kgDiEJNsc4qCNWBDuGriHXMg4TEcIAAAUuCwna8tMQcSIpBLSQDD4+a6LYuKe3vERwBMc9dtyZtuEQQJwGdud7klENEiDJlPjWZqRD2EAOSHbsOQ+bzi3RBvtWKq+fQ5PRJegLHLNVO3c588DGH3CzKArZB5CCIm8jvhkEtKdfd7aRDkCOSaFxLeCfPoBaCVqq/eDLJnAuBvMgL+bzQzp6IZgAmRU6b5C8AAkRPAHs+fhFQrccapM5EAAAAASUVORK5CYII=" style="width: 32px; height: 32px">
    <div class="footer-text">A discord bot framework.</div>
</footer>
<script>prettyPrint();</script>
<script src="scripts/jquery.min.js"></script>
<script src="scripts/tui-doc.js"></script>
<script src="scripts/linenumber.js"></script>

    <script>
        var id = '_sub'.replace(/"/g, '_');
        var selectedApi = document.getElementById(id); // do not use jquery selector
        var $selectedApi = $(selectedApi);

        $selectedApi.removeClass('hidden');
        $selectedApi.parent().find('.glyphicon').removeClass('glyphicon-plus').addClass('glyphicon-minus');
        showLnbApi();
    </script>

</body>
</html>
